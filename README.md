# syn-grammar

**syn-grammar** is a parser generator for Rust that compiles EBNF-like grammars into `syn::parse::Parse` implementations.

## Features

### 1. Speculative Parsing (Backtracking)
Parsers generated by `syn-grammar` support speculative parsing. The `attempt` function allows parsers to try a parsing branch and revert the stream cursor if it fails, without consuming tokens. This enables LL(k) lookahead and backtracking logic.

### 2. Intelligent Error Reporting
`syn-grammar` implements a "Deepest Error" heuristic. When multiple parsing branches fail, it preserves the error that occurred furthest into the token stream. This prevents generic "unexpected token" errors at the start of a block when a specific syntax error occurred deep inside it.

### 3. Testing Framework
The `testing` module provides a fluent API for unit testing your parsers.

## Grammar Syntax

### Attributes on Rules

You can add attributes to rules, including documentation comments and conditional compilation flags.

```rust
use syn_grammar::grammar;

grammar! {
    grammar MyGrammar {
        /// Parses a key-value pair.
        #[cfg(feature = "json")]
        rule pair -> (String, i32) = k:string ":" v:integer -> { (k, v) }
    }
}
```

## Installation

Add this to your `Cargo.toml`:

```toml
[dependencies]
syn-grammar = "0.3.0"
```
